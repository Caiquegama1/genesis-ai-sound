
import { useCallback } from 'react';
import type { LanguageCode } from '../types';

const translations: Record<LanguageCode, Record<string, string>> = {
  'pt-BR': {
    // Steps
    'step.language': 'Idioma',
    'step.slogan': 'Slogan',
    'step.platform': 'Plataforma',
    'step.profile': 'Perfil',
    'step.mode': 'Modo',
    'step.start_mode': 'Modo de Início',
    'step.fidelity': 'Fidelidade',
    'step.key_bpm': 'Tom / BPM',
    'step.genre': 'Gênero',
    'step.subgenre': 'Subgênero',
    'step.structure': 'Estrutura',
    'step.instruments': 'Instrumentos',
    'step.pro_formats': 'Formatos Pro',
    'step.mix_master': 'Mix / Master',
    'step.final': 'Final',
    // General
    'nav.back': 'Voltar',
    'nav.next': 'Avançar',
    'other': 'Outro',
    'continue': 'Continuar',
    // Step specific
    'slogan.text': '“Haja! e tudo se criou.”',
    'slogan.ref': 'Gen 1:3',
    'platform.suno': 'Suno',
    'platform.udio': 'Udio',
    'platform.stable_audio': 'Stable Audio',
    'platform.soundful': 'Soundful',
    'platform.loudly': 'Loudly',
    'platform.boomy': 'Boomy',
    'profile.cantor': 'Cantor',
    'profile.compositor': 'Compositor',
    'profile.produtor': 'Produtor',
    'mode.free': 'Grátis',
    'mode.pro': 'Pro',
    'start_mode.zero': 'Criação do Zero',
    'start_mode.audio_ref': 'Áudio Referência',
    'fidelity.title': 'Fidelidade ao Áudio de Referência',
    'key_bpm.key_placeholder': 'Ex: C major, A minor',
    'subgenre.select': 'Selecione um subgênero',
    'subgenre.other_placeholder': 'Especifique o subgênero',
    'structure.build_title': 'Construa sua Estrutura',
    'structure.bars': 'Compassos',
    'structure.undo': 'Desfazer',
    'structure.clear': 'Limpar',
    'structure.min_blocks': 'Mínimo de 1 bloco requerido.',
    'instruments.other_placeholder': 'Descreva outros instrumentos...',
    'pro_formats.title': 'Formatos de Instrumento (Pro)',
    'pro_formats.not_pro': 'Este passo é exclusivo para o Modo Pro.',
    'pro_formats.detail_toggle': 'Detalhar só 3 instrumentos principais',
    'pro_formats.mark_main': 'Marcar como principal',
    'format.STUDIO_CLEAN': 'Estúdio Limpo',
    'format.LIVE_TAKE': 'Take ao Vivo',
    'format.VINTAGE_ANALOG': 'Analógico Vintage',
    'format.LOFI_TEXTURE': 'Textura Lo-Fi',
    'format.CINEMATIC_WIDE': 'Cinemático Amplo',
    'mix.CLEAN_MODERN': 'Clean Modern (streaming-ready)',
    'mix.LOUD_PUNCHY': 'Loud & Punchy (-9 LUFS, Pro)',
    'mix.WARM_VINTAGE': 'Warm Vintage (-12 LUFS feel)',
    'mix.WIDE_CINEMATIC': 'Wide Cinematic',
    'mix.MINIMAL_ACOUSTIC': 'Minimal Acoustic',
    'final.title': 'Seu Prompt Final',
    'final.copy': 'Copiar',
    'final.copied': 'Copiado!',
    'final.chars': 'caracteres',
    'final.create_new': 'Criar Novo',
  },
  'en-US': {
    'step.language': 'Language',
    'step.slogan': 'Slogan',
    'step.platform': 'Platform',
    'step.profile': 'Profile',
    'step.mode': 'Mode',
    'step.start_mode': 'Start Mode',
    'step.fidelity': 'Fidelity',
    'step.key_bpm': 'Key / BPM',
    'step.genre': 'Genre',
    'step.subgenre': 'Subgenre',
    'step.structure': 'Structure',
    'step.instruments': 'Instruments',
    'step.pro_formats': 'Pro Formats',
    'step.mix_master': 'Mix / Master',
    'step.final': 'Final',
    'nav.back': 'Back',
    'nav.next': 'Next',
    'other': 'Other',
    'continue': 'Continue',
    'slogan.text': '"Let there be! and everything was created."',
    'slogan.ref': 'Gen 1:3',
    'platform.suno': 'Suno',
    'platform.udio': 'Udio',
    'platform.stable_audio': 'Stable Audio',
    'platform.soundful': 'Soundful',
    'platform.loudly': 'Loudly',
    'platform.boomy': 'Boomy',
    'profile.cantor': 'Singer',
    'profile.compositor': 'Songwriter',
    'profile.produtor': 'Producer',
    'mode.free': 'Free',
    'mode.pro': 'Pro',
    'start_mode.zero': 'From Scratch',
    'start_mode.audio_ref': 'Audio Reference',
    'fidelity.title': 'Fidelity to Audio Reference',
    'key_bpm.key_placeholder': 'E.g. C major, A minor',
    'subgenre.select': 'Select a subgenre',
    'subgenre.other_placeholder': 'Specify the subgenre',
    'structure.build_title': 'Build Your Structure',
    'structure.bars': 'Bars',
    'structure.undo': 'Undo',
    'structure.clear': 'Clear',
    'structure.min_blocks': 'Minimum of 1 block required.',
    'instruments.other_placeholder': 'Describe other instruments...',
    'pro_formats.title': 'Instrument Formats (Pro)',
    'pro_formats.not_pro': 'This step is exclusive to Pro Mode.',
    'pro_formats.detail_toggle': 'Detail only 3 main instruments',
    'pro_formats.mark_main': 'Mark as main',
    'format.STUDIO_CLEAN': 'Studio Clean',
    'format.LIVE_TAKE': 'Live Take',
    'format.VINTAGE_ANALOG': 'Vintage Analog',
    'format.LOFI_TEXTURE': 'Lo-Fi Texture',
    'format.CINEMATIC_WIDE': 'Cinematic Wide',
    'mix.CLEAN_MODERN': 'Clean Modern (streaming-ready)',
    'mix.LOUD_PUNCHY': 'Loud & Punchy (-9 LUFS, Pro)',
    'mix.WARM_VINTAGE': 'Warm Vintage (-12 LUFS feel)',
    'mix.WIDE_CINEMATIC': 'Wide Cinematic',
    'mix.MINIMAL_ACOUSTIC': 'Minimal Acoustic',
    'final.title': 'Your Final Prompt',
    'final.copy': 'Copy',
    'final.copied': 'Copied!',
    'final.chars': 'characters',
    'final.create_new': 'Create New',
  },
  'ja-JP': {
    'step.language': '言語',
    'step.slogan': 'スローガン',
    'step.platform': 'プラットフォーム',
    'step.profile': 'プロフィール',
    'step.mode': 'モード',
    'step.start_mode': '開始モード',
    'step.fidelity': '忠実度',
    'step.key_bpm': 'キー / BPM',
    'step.genre': 'ジャンル',
    'step.subgenre': 'サブジャンル',
    'step.structure': '構造',
    'step.instruments': '楽器',
    'step.pro_formats': 'プロフォーマット',
    'step.mix_master': 'ミックス/マスター',
    'step.final': '最終',
    'nav.back': '戻る',
    'nav.next': '次へ',
    'other': 'その他',
    'continue': '続く',
    'slogan.text': '「あれ！そしてすべてが創造された」',
    'slogan.ref': '創 1:3',
    'platform.suno': 'Suno',
    'platform.udio': 'Udio',
    'platform.stable_audio': 'Stable Audio',
    'platform.soundful': 'Soundful',
    'platform.loudly': 'Loudly',
    'platform.boomy': 'Boomy',
    'profile.cantor': '歌手',
    'profile.compositor': '作曲家',
    'profile.produtor': 'プロデューサー',
    'mode.free': '無料',
    'mode.pro': 'プロ',
    'start_mode.zero': 'ゼロから作成',
    'start_mode.audio_ref': 'オーディオ参照',
    'fidelity.title': 'オーディオ参照への忠実度',
    'key_bpm.key_placeholder': '例：C major、A minor',
    'subgenre.select': 'サブジャンルを選択',
    'subgenre.other_placeholder': 'サブジャンルを指定してください',
    'structure.build_title': '構造を構築',
    'structure.bars': '小節',
    'structure.undo': '元に戻す',
    'structure.clear': 'クリア',
    'structure.min_blocks': '最低1ブロックが必要です。',
    'instruments.other_placeholder': '他の楽器を記述してください...',
    'pro_formats.title': '楽器フォーマット（プロ）',
    'pro_formats.not_pro': 'このステップはプロモード専用です。',
    'pro_formats.detail_toggle': '主要な3つの楽器のみを詳述',
    'pro_formats.mark_main': 'メインとしてマーク',
    'format.STUDIO_CLEAN': 'クリーンスタジオ',
    'format.LIVE_TAKE': 'ライブテイク',
    'format.VINTAGE_ANALOG': 'ヴィンテージアナログ',
    'format.LOFI_TEXTURE': 'ローファイ質感',
    'format.CINEMATIC_WIDE': 'シネマティック・ワイド',
    'mix.CLEAN_MODERN': 'クリーンモダン（ストリーミング対応）',
    'mix.LOUD_PUNCHY': 'ラウド＆パンチー（-9 LUFS、プロ）',
    'mix.WARM_VINTAGE': 'ウォームヴィンテージ（-12 LUFS感）',
    'mix.WIDE_CINEMATIC': 'ワイドシネマティック',
    'mix.MINIMAL_ACOUSTIC': 'ミニマルアコースティック',
    'final.title': '最終的なプロンプト',
    'final.copy': 'コピー',
    'final.copied': 'コピーしました！',
    'final.chars': '文字',
    'final.create_new': '新規作成',
  },
  'fr-FR': {
    'step.language': 'Langue',
    'step.slogan': 'Slogan',
    'step.platform': 'Plateforme',
    'step.profile': 'Profil',
    'step.mode': 'Mode',
    'step.start_mode': 'Mode de Départ',
    'step.fidelity': 'Fidélité',
    'step.key_bpm': 'Tonalité / BPM',
    'step.genre': 'Genre',
    'step.subgenre': 'Sous-genre',
    'step.structure': 'Structure',
    'step.instruments': 'Instruments',
    'step.pro_formats': 'Formats Pro',
    'step.mix_master': 'Mix / Master',
    'step.final': 'Final',
    'nav.back': 'Retour',
    'nav.next': 'Suivant',
    'other': 'Autre',
    'continue': 'Continuer',
    'slogan.text': '"Que la lumière soit! et tout fut créé."',
    'slogan.ref': 'Gen 1:3',
    'platform.suno': 'Suno',
    'platform.udio': 'Udio',
    'platform.stable_audio': 'Stable Audio',
    'platform.soundful': 'Soundful',
    'platform.loudly': 'Loudly',
    'platform.boomy': 'Boomy',
    'profile.cantor': 'Chanteur',
    'profile.compositor': 'Auteur-compositeur',
    'profile.produtor': 'Producteur',
    'mode.free': 'Gratuit',
    'mode.pro': 'Pro',
    'start_mode.zero': 'Partir de Zéro',
    'start_mode.audio_ref': 'Référence Audio',
    'fidelity.title': 'Fidélité à la Référence Audio',
    'key_bpm.key_placeholder': 'Ex: C majeur, A mineur',
    'subgenre.select': 'Sélectionnez un sous-genre',
    'subgenre.other_placeholder': 'Spécifiez le sous-genre',
    'structure.build_title': 'Construisez votre structure',
    'structure.bars': 'Mesures',
    'structure.undo': 'Annuler',
    'structure.clear': 'Effacer',
    'structure.min_blocks': 'Minimum de 1 bloc requis.',
    'instruments.other_placeholder': 'Décrivez d\'autres instruments...',
    'pro_formats.title': 'Formats d\'instruments (Pro)',
    'pro_formats.not_pro': 'Cette étape est exclusive au Mode Pro.',
    'pro_formats.detail_toggle': 'Détailler uniquement les 3 instruments principaux',
    'pro_formats.mark_main': 'Marquer comme principal',
    'format.STUDIO_CLEAN': 'Studio Propre',
    'format.LIVE_TAKE': 'Prise Live',
    'format.VINTAGE_ANALOG': 'Analogique Vintage',
    'format.LOFI_TEXTURE': 'Texture Lo-Fi',
    'format.CINEMATIC_WIDE': 'Cinématographique Large',
    'mix.CLEAN_MODERN': 'Moderne et Propre (prêt pour le streaming)',
    'mix.LOUD_PUNCHY': 'Fort & Percutant (-9 LUFS, Pro)',
    'mix.WARM_VINTAGE': 'Vintage Chaleureux (sensation -12 LUFS)',
    'mix.WIDE_CINEMATIC': 'Cinématographique Large',
    'mix.MINIMAL_ACOUSTIC': 'Acoustique Minimal',
    'final.title': 'Votre Prompt Final',
    'final.copy': 'Copier',
    'final.copied': 'Copié !',
    'final.chars': 'caractères',
    'final.create_new': 'Créer Nouveau',
  },
  'de-DE': {
    'step.language': 'Sprache',
    'step.slogan': 'Slogan',
    'step.platform': 'Plattform',
    'step.profile': 'Profil',
    'step.mode': 'Modus',
    'step.start_mode': 'Startmodus',
    'step.fidelity': 'Genauigkeit',
    'step.key_bpm': 'Tonart / BPM',
    'step.genre': 'Genre',
    'step.subgenre': 'Subgenre',
    'step.structure': 'Struktur',
    'step.instruments': 'Instrumente',
    'step.pro_formats': 'Pro-Formate',
    'step.mix_master': 'Mix / Master',
    'step.final': 'Endgültig',
    'nav.back': 'Zurück',
    'nav.next': 'Weiter',
    'other': 'Andere',
    'continue': 'Fortsetzen',
    'slogan.text': '"Es werde! und alles wurde geschaffen."',
    'slogan.ref': 'Gen 1:3',
    'platform.suno': 'Suno',
    'platform.udio': 'Udio',
    'platform.stable_audio': 'Stable Audio',
    'platform.soundful': 'Soundful',
    'platform.loudly': 'Loudly',
    'platform.boomy': 'Boomy',
    'profile.cantor': 'Sänger',
    'profile.compositor': 'Songwriter',
    'profile.produtor': 'Produzent',
    'mode.free': 'Kostenlos',
    'mode.pro': 'Pro',
    'start_mode.zero': 'Von Grund auf neu',
    'start_mode.audio_ref': 'Audio-Referenz',
    'fidelity.title': 'Genauigkeit zur Audio-Referenz',
    'key_bpm.key_placeholder': 'Z.B. C-Dur, a-Moll',
    'subgenre.select': 'Wählen Sie ein Subgenre',
    'subgenre.other_placeholder': 'Geben Sie das Subgenre an',
    'structure.build_title': 'Bauen Sie Ihre Struktur',
    'structure.bars': 'Takte',
    'structure.undo': 'Rückgängig',
    'structure.clear': 'Löschen',
    'structure.min_blocks': 'Mindestens 1 Block erforderlich.',
    'instruments.other_placeholder': 'Beschreiben Sie andere Instrumente...',
    'pro_formats.title': 'Instrumentenformate (Pro)',
    'pro_formats.not_pro': 'Dieser Schritt ist exklusiv für den Pro-Modus.',
    'pro_formats.detail_toggle': 'Nur 3 Hauptinstrumente detaillieren',
    'pro_formats.mark_main': 'Als Haupt markieren',
    'format.STUDIO_CLEAN': 'Sauberes Studio',
    'format.LIVE_TAKE': 'Live-Aufnahme',
    'format.VINTAGE_ANALOG': 'Vintage-Analog',
    'format.LOFI_TEXTURE': 'Lo-Fi-Textur',
    'format.CINEMATIC_WIDE': 'Kino-Breit',
    'mix.CLEAN_MODERN': 'Sauber & Modern (streaming-bereit)',
    'mix.LOUD_PUNCHY': 'Laut & Druckvoll (-9 LUFS, Pro)',
    'mix.WARM_VINTAGE': 'Warmes Vintage (-12 LUFS Gefühl)',
    'mix.WIDE_CINEMATIC': 'Breites Kino',
    'mix.MINIMAL_ACOUSTIC': 'Minimalistisch Akustisch',
    'final.title': 'Ihr endgültiger Prompt',
    'final.copy': 'Kopieren',
    'final.copied': 'Kopiert!',
    'final.chars': 'zeichen',
    'final.create_new': 'Neu Erstellen',
  },
};

export const useTranslations = (lang: LanguageCode) => {
    const getLang = () => {
        if (translations[lang]) return lang;
        const baseLang = lang.split('-')[0];
        if (translations[baseLang as LanguageCode]) return baseLang as LanguageCode;
        return 'en-US'; // Fallback
    };
    
    const currentLang = getLang();

    const t = useCallback((key: string, options?: any) => {
        let translation = translations[currentLang]?.[key] || translations['en-US'][key] || key;
        if (options) {
            Object.keys(options).forEach(optKey => {
                translation = translation.replace(`{{${optKey}}}`, options[optKey]);
            });
        }
        return translation;
    }, [currentLang]);

    return t;
};
